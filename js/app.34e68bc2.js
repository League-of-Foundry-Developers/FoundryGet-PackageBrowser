(function(t){function e(e){for(var i,s,o=e[0],l=e[1],c=e[2],p=0,d=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={app:0},a=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/FoundryGet-PackageBrowser/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"310b":function(t,e,n){"use strict";n("e2df")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=(n("caad"),n("c975"),n("b0c0"),n("d3b7"),n("25f0"),n("2532"),n("96cf"),n("1da1")),a=n("dd80"),s=n("e13d"),o={getLanguageByTag:function(t){var e,n;if(-1!==["cn","zh-SHAN","zh-HANS"].indexOf(null===t||void 0===t?void 0:t.lang))return"中文";if("kr"===(null===t||void 0===t?void 0:t.lang))return"한국어";var i="";return i=Object(s["where"])("1",null===t||void 0===t?void 0:t.lang),i?i.local:(i=Object(s["where"])("2",null===t||void 0===t?void 0:t.lang),i?i.local:(i=null===(e=Object(a["getByTag"])(null===t||void 0===t?void 0:t.lang))||void 0===e?void 0:e.local,i||(i=null===(n=Object(a["getByTag"])(null===t||void 0===t?void 0:t.lang))||void 0===n?void 0:n.name,i||(i=null===t||void 0===t?void 0:t.name,i?(console.error(i),i):(i=null===t||void 0===t?void 0:t.lang,i)))))},ciIncludes:function(t,e){return 0===e.length||t.toString().toLowerCase().includes(e.toLowerCase())},sleep:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout(t,e)})));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()};Storage.prototype.setObject=function(t,e){try{this.setItem(t,JSON.stringify(e))}catch(n){this.setItem(t,e)}},Storage.prototype.getObject=function(t){var e=this.getItem(t);if(void 0!=e)try{return e&&JSON.parse(e)}catch(n){return console.error("Something is wrong with the ".concat(t," localstorage!")),e}return e};var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{staticClass:"ModuleBrowser"},[n("v-main",[n("Modules")],1)],1)},c=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("settings-overlay",{attrs:{overlayState:t.settingsOverlay},on:{click:function(e){t.settingsOverlay=e}}}),n("v-container",[n("v-card",{staticClass:"sidebar-wrapper"},[n("menu",{staticClass:"fixed"},[n("v-navigation-drawer",{attrs:{height:"calc(100vh - 92px)",color:"accent"},scopedSlots:t._u([{key:"append",fn:function(){return[n("v-container",{staticClass:"justify-center",attrs:{"fill-width":""}},[n("v-btn",{attrs:{icon:""},on:{click:t.handleSettingsClick}},[n("v-icon",[t._v("mdi-cog")])],1)],1)]},proxy:!0}])},[n("v-card-text",[n("v-autocomplete",{attrs:{items:t.authors,outlined:"",dense:"",chips:"","small-chips":"",label:"Authors",multiple:""},model:{value:t.filter.authors,callback:function(e){t.$set(t.filter,"authors",e)},expression:"filter.authors"}})],1),n("v-card-text",[n("v-autocomplete",{attrs:{items:t.languages,outlined:"",dense:"",chips:"","small-chips":"",label:"Languages",multiple:""},model:{value:t.filter.languages,callback:function(e){t.$set(t.filter,"languages",e)},expression:"filter.languages"}})],1),n("v-card-text",[n("v-autocomplete",{attrs:{items:t.systemFilter,outlined:"",dense:"",chips:"","small-chips":"",label:"Systems",multiple:""},model:{value:t.filter.systems,callback:function(e){t.$set(t.filter,"systems",e)},expression:"filter.systems"}})],1)],1)],1)]),n("v-filterable-data-iterator",{attrs:{items:t.items,"items-per-page":t.itemsPerPage,page:t.page,"custom-filter":t.customFilter,search:t.filter,"sort-by":t.sortBy.toLowerCase(),"sort-desc":t.sortDesc},on:{"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e}},scopedSlots:t._u([{key:"header",fn:function(){return[n("v-toolbar",{staticClass:"mb-1",attrs:{dark:"",color:"primary"}},[n("v-text-field",{attrs:{clearable:"",flat:"","solo-inverted":"","hide-details":"",label:"Search"},model:{value:t.filter.search,callback:function(e){t.$set(t.filter,"search",e)},expression:"filter.search"}}),t.$vuetify.breakpoint.mdAndUp?[n("v-spacer"),n("v-select",{attrs:{flat:"","solo-inverted":"","hide-details":"",items:t.keys,label:"Sort by"},model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}}),n("v-spacer"),n("v-btn-toggle",{attrs:{mandatory:""},model:{value:t.sortDesc,callback:function(e){t.sortDesc=e},expression:"sortDesc"}},[n("v-btn",{attrs:{large:"",depressed:"",color:"primary",value:!1}},[n("v-icon",[t._v("mdi-arrow-up")])],1),n("v-btn",{attrs:{large:"",depressed:"",color:"accent",value:!0}},[n("v-icon",[t._v("mdi-arrow-down")])],1)],1)]:t._e()],2)]},proxy:!0},{key:"default",fn:function(e){return[n("v-row",t._l(e.items,(function(t){return n("v-col",{key:t.name,attrs:{cols:"12",lg:"4",md:"6",sm:"12"}},[n("Module",{attrs:{module:t,modules:e.items}})],1)})),1)]}}])})],1)],1)},p=[],d=(n("99af"),n("a623"),n("4de4"),n("4160"),n("d81d"),n("13d5"),n("4fad"),n("b64b"),n("ac1f"),n("841c"),n("498a"),n("159b"),n("ddb0"),n("3835")),h=n("53ca"),f=n("2909"),g=n("bc3a"),m=n.n(g),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rel"},[n("v-lazy",{attrs:{transition:"fade-transition"},model:{value:t.isActive,callback:function(e){t.isActive=e},expression:"isActive"}},[t.isActive?n("div",[n("module-overlay",{attrs:{overlayState:t.overlay},on:{click:function(e){t.overlay=e}}}),n("v-card",{staticClass:"mx-auto",class:t.cardType,style:t.cssVars,attrs:{ripple:!1}},[n("a",{attrs:{href:"/package/"+t.module.name}},[n("header",{staticClass:"pkg-header",class:t.typeClass},[n("v-card-title",[t._v(t._s(t.module.title))]),n("v-card-subtitle",[n("span",{staticClass:"pkg-type"},[t._v(t._s(t.module.type))]),t._v(" - "),n("span",{staticClass:"pkg-ver"},[t._v("v"+t._s(t.module.latest))])])],1)]),n("main",[n("v-card-text",{staticStyle:{"padding-top":"10px"}},[n("h4",{staticClass:"author"},[n("label",[t._v(t._s(t.authorLabel))]),n("span",[t._v(t._s(t.module.authors.join(", ")))])]),n("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.module.description)}})])],1)])],1):t._e()])],1)},y=[],b=(n("7db0"),n("a9e3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-overlay",{attrs:{value:t.overlayState}},[n("v-card",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeOverlay,expression:"closeOverlay"}]},[n("v-card-title",[t._v("Settings")]),n("v-btn",{attrs:{overlayState:t.overlayState},on:{click:t.closeOverlay}},[t._v(" Close ")])],1)],1)}),O=[],S={name:"ModuleOverlay",components:{},props:{overlayState:Boolean},data:function(){return{}},methods:{closeOverlay:function(){this.$emit("click",!this.overlayState)}},mounted:function(){}},j=S,x=n("2877"),k=n("6544"),C=n.n(k),$=n("8336"),I=n("b0af"),P=n("99d9"),A=n("a797"),B=n("269a"),w=n.n(B),L=n("a293"),_=Object(x["a"])(j,b,O,!1,null,null,null),D=_.exports;C()(_,{VBtn:$["a"],VCard:I["a"],VCardTitle:P["c"],VOverlay:A["a"]}),w()(_,{ClickOutside:L["a"]});var E={name:"Module",components:{ModuleOverlay:D},props:{modules:Array,module:Object},data:function(){return{isActive:!1,show:!1,loader:null,loading:!1,manifest:{minimumCoreVersion:"?.?.?",compatibleCoreVersion:"?.?.?",dependencies:[]},manifestLoaded:!1,hasDependencies:!1,footerHeight:0,overlay:!1}},watch:{loader:function(){var t=this,e=this.loader;this[e]=!this[e],setTimeout((function(){return t[e]=!1}),3e3),this.loader=null}},computed:{foundryPackageUrl:function(){return"https://foundryvtt.com/packages/".concat(this.module.name,"/")},typeClass:function(){return{module:"typ-module",system:"typ-system",world:"typ-world"}[this.module.type]||"typ-none"},languages:function(){var t=this,e=[];return this.module.languages.forEach((function(n){var i=t.$func.getLanguageByTag(n);e.includes(i)||e.push(i)})),e},hasLanguages:function(){return!(!this.module.languages||0===this.module.languages.length)},installs:function(){return Number(this.module.installs)},popularity:function(){var t=Number(this.module.installs),e=t>1?Math.round(t):"<1";return e},coverImage:function(){var t,e=this.module.media;if(!e)return"";var n=e.find((function(t){return"cover"==t.type}))||e.find((function(t){return"icon"==t.type}));return null!==(t=null===n||void 0===n?void 0:n.url)&&void 0!==t?t:""},cssVars:function(){return{"--footer-height":this.footerHeight+"px","--cover-image":"url('".concat(this.coverImage,"')")}},cardType:function(){return this.coverImage?"image-card":"text-card"},authorLabel:function(){return"Author".concat(this.module.authors.length>1?"s":"",": ")}},methods:{getManifest:function(){var t=this;this.manifestLoaded||(this.manifestLoaded=!0,m.a.get("https://forge-vtt.com/api/bazaar/manifest/"+this.module.name).then((function(e){var n,i;t.manifest=e.data,(null===(n=e.data)||void 0===n?void 0:n.dependencies)&&0!==(null===(i=e.data.dependencies)||void 0===i?void 0:i.length)&&(t.hasDependencies=!0)})).catch((function(){m.a.get("https://cors-anywhere.herokuapp.com/"+t.module.manifest).then((function(e){var n,i;t.manifest=e.data,(null===(n=e.data)||void 0===n?void 0:n.dependencies)&&0!==(null===(i=e.data.dependencies)||void 0===i?void 0:i.length)&&(t.hasDependencies=!0)}))})))},footerResizeHandler:function(t){this.footerHeight=t.height}}},V=E,T=(n("310b"),n("b687")),M=Object(x["a"])(V,v,y,!1,null,"15eb0c7c",null),F=M.exports;C()(M,{VCard:I["a"],VCardSubtitle:P["a"],VCardText:P["b"],VCardTitle:P["c"],VLazy:T["a"]});n("45fc"),n("07ac");var U=n("5530"),N=(n("c740"),n("fb6a"),n("a434"),n("80d2")),K=i["a"].extend({name:"v-filterable-data",inheritAttrs:!1,props:{items:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return{}}},sortBy:{type:[String,Array],default:function(){return[]}},sortDesc:{type:[Boolean,Array],default:function(){return[]}},customSort:{type:Function,default:N["A"]},mustSort:Boolean,multiSort:Boolean,page:{type:Number,default:1},itemsPerPage:{type:Number,default:10},groupBy:{type:[String,Array],default:function(){return[]}},groupDesc:{type:[Boolean,Array],default:function(){return[]}},customGroup:{type:Function,default:N["t"]},locale:{type:String,default:"en-US"},disableSort:Boolean,disablePagination:Boolean,disableFiltering:Boolean,search:Object,customFilter:{type:Function,default:z},serverItemsLength:{type:Number,default:-1}},data:function(){var t={page:this.page,itemsPerPage:this.itemsPerPage,sortBy:Object(N["C"])(this.sortBy),sortDesc:Object(N["C"])(this.sortDesc),groupBy:Object(N["C"])(this.groupBy),groupDesc:Object(N["C"])(this.groupDesc),mustSort:this.mustSort,multiSort:this.multiSort};this.options&&(t=Object.assign(t,this.options));var e,n,i=t,r=i.sortBy,a=i.sortDesc,s=i.groupBy,o=i.groupDesc,l=r.length-a.length,c=s.length-o.length;l>0&&(e=t.sortDesc).push.apply(e,Object(f["a"])(Object(N["k"])(l,!1)));c>0&&(n=t.groupDesc).push.apply(n,Object(f["a"])(Object(N["k"])(c,!1)));return{internalOptions:t}},computed:{itemsLength:function(){return this.serverItemsLength>=0?this.serverItemsLength:this.filteredItems.length},pageCount:function(){return this.internalOptions.itemsPerPage<=0?1:Math.ceil(this.itemsLength/this.internalOptions.itemsPerPage)},pageStart:function(){return-1!==this.internalOptions.itemsPerPage&&this.items.length?(this.internalOptions.page-1)*this.internalOptions.itemsPerPage:0},pageStop:function(){return-1===this.internalOptions.itemsPerPage?this.itemsLength:this.items.length?Math.min(this.itemsLength,this.internalOptions.page*this.internalOptions.itemsPerPage):0},isGrouped:function(){return!!this.internalOptions.groupBy.length},pagination:function(){return{page:this.internalOptions.page,itemsPerPage:this.internalOptions.itemsPerPage,pageStart:this.pageStart,pageStop:this.pageStop,pageCount:this.pageCount,itemsLength:this.itemsLength}},filteredItems:function(){var t=this.items.slice();return!this.disableFiltering&&this.serverItemsLength<=0&&(t=this.customFilter(t,this.search)),t},computedItems:function(){var t=this.filteredItems.slice();return!this.disableSort&&this.serverItemsLength<=0&&(t=this.sortItems(t)),!this.disablePagination&&this.serverItemsLength<=0&&(t=this.paginateItems(t)),t},groupedItems:function(){return this.isGrouped?this.groupItems(this.computedItems):null},scopedProps:function(){var t={sort:this.sort,sortArray:this.sortArray,group:this.group,items:this.computedItems,options:this.internalOptions,updateOptions:this.updateOptions,pagination:this.pagination,groupedItems:this.groupedItems,originalItemsLength:this.items.length};return t},computedOptions:function(){return Object(U["a"])({},this.options)}},watch:{computedOptions:{handler:function(t,e){Object(N["i"])(t,e)||this.updateOptions(t)},deep:!0,immediate:!0},internalOptions:{handler:function(t,e){Object(N["i"])(t,e)||this.$emit("update:options",t)},deep:!0,immediate:!0},page:function(t){this.updateOptions({page:t})},"internalOptions.page":function(t){this.$emit("update:page",t)},itemsPerPage:function(t){this.updateOptions({itemsPerPage:t})},"internalOptions.itemsPerPage":function(t){this.$emit("update:items-per-page",t)},sortBy:function(t){this.updateOptions({sortBy:Object(N["C"])(t)})},"internalOptions.sortBy":function(t,e){!Object(N["i"])(t,e)&&this.$emit("update:sort-by",Array.isArray(this.sortBy)?t:t[0])},sortDesc:function(t){this.updateOptions({sortDesc:Object(N["C"])(t)})},"internalOptions.sortDesc":function(t,e){!Object(N["i"])(t,e)&&this.$emit("update:sort-desc",Array.isArray(this.sortDesc)?t:t[0])},groupBy:function(t){this.updateOptions({groupBy:Object(N["C"])(t)})},"internalOptions.groupBy":function(t,e){!Object(N["i"])(t,e)&&this.$emit("update:group-by",Array.isArray(this.groupBy)?t:t[0])},groupDesc:function(t){this.updateOptions({groupDesc:Object(N["C"])(t)})},"internalOptions.groupDesc":function(t,e){!Object(N["i"])(t,e)&&this.$emit("update:group-desc",Array.isArray(this.groupDesc)?t:t[0])},multiSort:function(t){this.updateOptions({multiSort:t})},"internalOptions.multiSort":function(t){this.$emit("update:multi-sort",t)},mustSort:function(t){this.updateOptions({mustSort:t})},"internalOptions.mustSort":function(t){this.$emit("update:must-sort",t)},pageCount:{handler:function(t){this.$emit("page-count",t)},immediate:!0},computedItems:{handler:function(t){this.$emit("current-items",t)},immediate:!0},pagination:{handler:function(t,e){Object(N["i"])(t,e)||this.$emit("pagination",this.pagination)},immediate:!0}},methods:{toggle:function(t,e,n,i,r,a){var s=e.slice(),o=n.slice(),l=s.findIndex((function(e){return e===t}));return l<0?(a||(s=[],o=[]),s.push(t),o.push(!1)):l>=0&&!o[l]?o[l]=!0:r?o[l]=!1:(s.splice(l,1),o.splice(l,1)),Object(N["i"])(s,e)&&Object(N["i"])(o,n)||(i=1),{by:s,desc:o,page:i}},group:function(t){var e=this.toggle(t,this.internalOptions.groupBy,this.internalOptions.groupDesc,this.internalOptions.page,!0,!1),n=e.by,i=e.desc,r=e.page;this.updateOptions({groupBy:n,groupDesc:i,page:r})},sort:function(t){if(Array.isArray(t))return this.sortArray(t);var e=this.toggle(t,this.internalOptions.sortBy,this.internalOptions.sortDesc,this.internalOptions.page,this.internalOptions.mustSort,this.internalOptions.multiSort),n=e.by,i=e.desc,r=e.page;this.updateOptions({sortBy:n,sortDesc:i,page:r})},sortArray:function(t){var e=this,n=t.map((function(t){var n=e.internalOptions.sortBy.findIndex((function(e){return e===t}));return n>-1&&e.internalOptions.sortDesc[n]}));this.updateOptions({sortBy:t,sortDesc:n})},updateOptions:function(t){this.internalOptions=Object(U["a"])(Object(U["a"])(Object(U["a"])({},this.internalOptions),t),{},{page:this.serverItemsLength<0?Math.max(1,Math.min(t.page||this.internalOptions.page,this.pageCount)):t.page||this.internalOptions.page})},sortItems:function(t){var e=this.internalOptions.sortBy,n=this.internalOptions.sortDesc;return this.internalOptions.groupBy.length&&(e=[].concat(Object(f["a"])(this.internalOptions.groupBy),Object(f["a"])(e)),n=[].concat(Object(f["a"])(this.internalOptions.groupDesc),Object(f["a"])(n))),this.customSort(t,e,n,this.locale)},groupItems:function(t){return this.customGroup(t,this.internalOptions.groupBy,this.internalOptions.groupDesc)},paginateItems:function(t){return-1===this.serverItemsLength&&t.length<=this.pageStart&&(this.internalOptions.page=Math.max(1,this.internalOptions.page-1)),t.slice(this.pageStart,this.pageStop)}},render:function(){return this.$scopedSlots.default&&this.$scopedSlots.default(this.scopedProps)}});function z(t,e){if(e){var n=e.search.toString().toLowerCase();return""===n.trim()?t:t.filter((function(t){return Object.keys(t).some((function(e){var i=Object(N["n"])(t,e);return null!=i&&null!=n&&"boolean"!==typeof i&&-1!==i.toString().toLocaleLowerCase().indexOf(n.toLocaleLowerCase())}))}))}}var R,H,G,J,W=K,q=Object(x["a"])(W,R,H,!1,null,null,null),Q=q.exports,X=n("f41f"),Y=n("e4cd"),Z=n("7560"),tt=n("58df"),et=Object(tt["a"])(Y["a"],Z["a"]).extend({name:"v-filterable-data-iterator",props:Object(U["a"])(Object(U["a"])({},Q.options.props),{},{itemKey:{type:String,default:"id"},value:{type:Array,default:function(){return[]}},singleSelect:Boolean,expanded:{type:Array,default:function(){return[]}},mobileBreakpoint:Object(U["a"])(Object(U["a"])({},Y["a"].options.props.mobileBreakpoint),{},{default:600}),singleExpand:Boolean,loading:[Boolean,String],noResultsText:{type:String,default:"$vuetify.dataIterator.noResultsText"},noDataText:{type:String,default:"$vuetify.noDataText"},loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideDefaultFooter:Boolean,footerProps:Object,selectableKey:{type:String,default:"isSelectable"}}),data:function(){return{selection:{},expansion:{},internalCurrentItems:[]}},computed:{everyItem:function(){var t=this;return!!this.selectableItems.length&&this.selectableItems.every((function(e){return t.isSelected(e)}))},someItems:function(){var t=this;return this.selectableItems.some((function(e){return t.isSelected(e)}))},sanitizedFooterProps:function(){return Object(N["d"])(this.footerProps)},selectableItems:function(){var t=this;return this.internalCurrentItems.filter((function(e){return t.isSelectable(e)}))}},watch:{value:{handler:function(t){var e=this;this.selection=t.reduce((function(t,n){return t[Object(N["n"])(n,e.itemKey)]=n,t}),{})},immediate:!0},selection:function(t,e){Object(N["i"])(Object.keys(t),Object.keys(e))||this.$emit("input",Object.values(t))},expanded:{handler:function(t){var e=this;this.expansion=t.reduce((function(t,n){return t[Object(N["n"])(n,e.itemKey)]=!0,t}),{})},immediate:!0},expansion:function(t,e){var n=this;if(!Object(N["i"])(t,e)){var i=Object.keys(t).filter((function(e){return t[e]})),r=i.length?this.items.filter((function(t){return i.includes(String(Object(N["n"])(t,n.itemKey)))})):[];this.$emit("update:expanded",r)}}},methods:{toggleSelectAll:function(t){for(var e=Object.assign({},this.selection),n=0;n<this.selectableItems.length;n++){var i=this.selectableItems[n];if(this.isSelectable(i)){var r=Object(N["n"])(i,this.itemKey);t?e[r]=i:delete e[r]}}this.selection=e,this.$emit("toggle-select-all",{items:this.internalCurrentItems,value:t})},isSelectable:function(t){return!1!==Object(N["n"])(t,this.selectableKey)},isSelected:function(t){return!!this.selection[Object(N["n"])(t,this.itemKey)]||!1},select:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.isSelectable(t)){var i=this.singleSelect?{}:Object.assign({},this.selection),r=Object(N["n"])(t,this.itemKey);if(e?i[r]=t:delete i[r],this.singleSelect&&n){var a=Object.keys(this.selection),s=a.length&&Object(N["n"])(this.selection[a[0]],this.itemKey);s&&s!==r&&this.$emit("item-selected",{item:this.selection[s],value:!1})}this.selection=i,n&&this.$emit("item-selected",{item:t,value:e})}},isExpanded:function(t){return this.expansion[Object(N["n"])(t,this.itemKey)]||!1},expand:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.singleExpand?{}:Object.assign({},this.expansion),i=Object(N["n"])(t,this.itemKey);e?n[i]=!0:delete n[i],this.expansion=n,this.$emit("item-expanded",{item:t,value:e})},createItemProps:function(t){var e=this;return{item:t,select:function(n){return e.select(t,n)},isSelected:this.isSelected(t),expand:function(n){return e.expand(t,n)},isExpanded:this.isExpanded(t),isMobile:this.isMobile}},genEmptyWrapper:function(t){return this.$createElement("div",t)},genEmpty:function(t,e){if(0===t&&this.loading){var n=this.$slots["loading"]||this.$vuetify.lang.t(this.loadingText);return this.genEmptyWrapper(n)}if(0===t){var i=this.$slots["no-data"]||this.$vuetify.lang.t(this.noDataText);return this.genEmptyWrapper(i)}if(0===e){var r=this.$slots["no-results"]||this.$vuetify.lang.t(this.noResultsText);return this.genEmptyWrapper(r)}return null},genItems:function(t){var e=this,n=this.genEmpty(t.originalItemsLength,t.pagination.itemsLength);return n?[n]:this.$scopedSlots.default?this.$scopedSlots.default(Object(U["a"])(Object(U["a"])({},t),{},{isSelected:this.isSelected,select:this.select,isExpanded:this.isExpanded,expand:this.expand})):this.$scopedSlots.item?t.items.map((function(t){return e.$scopedSlots.item(e.createItemProps(t))})):[]},genFooter:function(t){if(this.hideDefaultFooter)return null;var e={props:Object(U["a"])(Object(U["a"])({},this.sanitizedFooterProps),{},{options:t.options,pagination:t.pagination}),on:{"update:options":function(e){return t.updateOptions(e)}}},n=Object(N["o"])("footer.",this.$scopedSlots);return this.$createElement(X["a"],Object(U["a"])({scopedSlots:n},e))},genDefaultScopedSlot:function(t){var e=Object(U["a"])(Object(U["a"])({},t),{},{someItems:this.someItems,everyItem:this.everyItem,toggleSelectAll:this.toggleSelectAll});return this.$createElement("div",{staticClass:"v-data-iterator"},[Object(N["q"])(this,"header",e,!0),this.genItems(t),this.genFooter(t),Object(N["q"])(this,"footer",e,!0)])}},render:function(){var t=this;return this.$createElement(Q,{props:this.$props,on:{"update:options":function(e,n){return!Object(N["i"])(e,n)&&t.$emit("update:options",e)},"update:page":function(e){return t.$emit("update:page",e)},"update:items-per-page":function(e){return t.$emit("update:items-per-page",e)},"update:sort-by":function(e){return t.$emit("update:sort-by",e)},"update:sort-desc":function(e){return t.$emit("update:sort-desc",e)},"update:group-by":function(e){return t.$emit("update:group-by",e)},"update:group-desc":function(e){return t.$emit("update:group-desc",e)},pagination:function(e,n){return!Object(N["i"])(e,n)&&t.$emit("pagination",e)},"current-items":function(e){t.internalCurrentItems=e,t.$emit("current-items",e)},"page-count":function(e){return t.$emit("page-count",e)}},scopedSlots:{default:this.genDefaultScopedSlot}})}}),nt=et,it=Object(x["a"])(nt,G,J,!1,null,null,null),rt=it.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-overlay",{attrs:{value:t.overlayState}},[n("v-lazy",{attrs:{transition:"fade-transition"},model:{value:t.isActive,callback:function(e){t.isActive=e},expression:"isActive"}},[t.isActive?n("v-card",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeOverlay,expression:"closeOverlay"}]},[n("header",[n("v-card-title",[t._v("Settings")])],1),n("main",{staticClass:"settingsMain"},[t._l(t.apiEntries,(function(e){return n("v-chip",{key:e,attrs:{label:"",close:""},on:{"click:close":function(n){return t.removeFromStorage(e)}}},[n("v-checkbox",{key:e,attrs:{label:e},on:{change:function(n){return t.updateStorage(e,n)}},model:{value:t.apiObject[e],callback:function(n){t.$set(t.apiObject,e,n)},expression:"apiObject[apiEntry]"}})],1)})),n("v-chip",{staticClass:"addApiChip",attrs:{label:""}},[n("v-btn",{attrs:{icon:"",small:""},on:{click:t.addApi}},[n("v-icon",[t._v("mdi-plus")])],1),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[n("v-text-field",{attrs:{placeholder:"API Url",solo:"",dense:"","single-line":"","background-color":"#00000000",flat:"","hide-details":""},model:{value:t.addedUrl,callback:function(e){t.addedUrl=e},expression:"addedUrl"}})]}}],null,!1,1053171139),model:{value:t.faultyUrl,callback:function(e){t.faultyUrl=e},expression:"faultyUrl"}},[n("span",[t._v("Please enter a valid url")])])],1)],2),n("footer",[n("v-btn",{attrs:{overlayState:t.overlayState},on:{click:t.closeOverlay}},[t._v(" Close ")])],1)]):t._e()],1)],1)},st=[],ot={name:"SettingsOverlay",components:{},props:{overlayState:Boolean},data:function(){return{isActive:!1,trigger:0,addedUrl:"",faultyUrl:!1}},methods:{closeOverlay:function(){this.$emit("click",!this.overlayState)},updateStorage:function(t,e){var n=localStorage.getObject("apis");n[t]=e,localStorage.setObject("apis",n),this.trigger++},removeFromStorage:function(t){var e=localStorage.getObject("apis");delete e[t],localStorage.setObject("apis",e),this.trigger++},addApi:function(){var t=this;/^(ftp|http|https):\/\/[^ "]+$/.test(this.addedUrl)?(this.updateStorage(this.addedUrl,!0),this.faultyUrl=!1,this.addedUrl=""):(this.faultyUrl=!0,setTimeout((function(){return t.faultyUrl=!1}),2e3))}},computed:{apiObject:function(){return this.trigger,localStorage.getObject("apis")||{}},apiEntries:function(){return this.trigger,Object.keys(this.apiObject)}},mounted:function(){}},lt=ot,ct=(n("b5ec"),n("ac7c")),ut=n("cc20"),pt=n("132d"),dt=n("8654"),ht=n("3a2f"),ft=Object(x["a"])(lt,at,st,!1,null,null,null),gt=ft.exports;C()(ft,{VBtn:$["a"],VCard:I["a"],VCardTitle:P["c"],VCheckbox:ct["a"],VChip:ut["a"],VIcon:pt["a"],VLazy:T["a"],VOverlay:A["a"],VTextField:dt["a"],VTooltip:ht["a"]}),w()(ft,{ClickOutside:L["a"]});var mt={name:"Modules",components:{Module:F,VFilterableDataIterator:rt,SettingsOverlay:gt},data:function(){return{loading:!0,modules:null,languages:[],authors:[],systemFilter:[],systemCache:{any:"System Agnostic"},filter:{search:"",languages:[],systems:[],authors:[]},sortDesc:!1,sortBy:"name",page:1,itemsPerPage:5,itemsPerPageArray:[6,9,12],keys:["Name","Type","Installs"],items:[],settingsOverlay:!1}},methods:{mountAPI:function(){var t=this;this.loading=!0;var e=localStorage.getObject("apis"),n=[],i=[],a={};Object.keys(e).forEach(function(){var s=Object(r["a"])(regeneratorRuntime.mark((function r(s){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e[s]&&(a[s]=void 0,m.a.get(s).then((function(e){console.log(e.data.packages),e.data.packages.forEach((function(t){"system"===t.type?i.push(t):"module"===t.type&&n.push(t)})),t.items=[].concat(Object(f["a"])(t.items),Object(f["a"])(e.data.packages)).reduce((function(t,e){return t.map((function(t){return null===t||void 0===t?void 0:t.name})).includes((null===e||void 0===e?void 0:e.name)||"")?t:[].concat(Object(f["a"])(t),[e])}),[]),delete a[s]})));case 1:case"end":return r.stop()}}),r)})));return function(t){return s.apply(this,arguments)}}()),Object(r["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=!0,setTimeout((function(){return r=!1}),15e3);case 2:if(!r){e.next=8;break}return e.next=5,t.$func.sleep(100);case 5:0===Object.keys(a).length&&(r=!1),e.next=2;break;case 8:t.modules=n,t.systems=i,t.languages=t.getLanguages(),t.systemFilter=t.getSystems(),t.authors=t.getAuthors(),t.loading=!1;case 14:case"end":return e.stop()}}),e)})))()},customFilter:function(t,e){var n=this,i="";try{i=e.search.toString().toLowerCase()}catch(o){i=""}var r=e.languages,a=[];e.systems.forEach((function(t){return a.push(n.getSystem(t))}));var s=e.authors;return"string"===typeof e.search&&0!==e.search.trim().length||"object"===Object(h["a"])(e.languages)&&0!==e.languages.length||"object"===Object(h["a"])(e.systems)&&0!==e.systems.length||"object"===Object(h["a"])(e.authors)&&0!==e.authors.length?t.filter((function(t){var e={filterSearch:!1,filterLanguage:!1,filterSystem:!1,filterAuthor:!1};return Object.keys(t).forEach((function(o){var l=Object(N["n"])(t,o);null!=l&&(!e.filterSearch&&n.filterSearch(l,i)&&(e.filterSearch=!0),!e.filterLanguage&&n.filterLanguage(l,r,o)&&(e.filterLanguage=!0),!e.filterAuthor&&n.filterAuthor(l,s,o)&&(e.filterAuthor=!0)),void 0!==l&&!e.filterSystem&&n.filterSystem(l,a,o)&&(e.filterSystem=!0)})),Object.keys(e).every((function(t){return e[t]}))})):t},filterSearch:function(t,e){return!e||""===e.trim()||-1!==t.toString().toLocaleLowerCase().indexOf(e.toLocaleLowerCase())},filterLanguage:function(t,e,n){var i=this;if(!e||0===(null===e||void 0===e?void 0:e.length))return!0;if(0===(null===t||void 0===t?void 0:t.length)||"languages"!==n)return!1;var r=!1;return t.forEach((function(t){var n=i.$func.getLanguageByTag(t);e.includes(n)&&(r=!0)})),r},filterSystem:function(t,e,n){if(!e||0===(null===e||void 0===e?void 0:e.length))return!0;if("systems"!==n)return!1;if(null===t)return e.includes("any");var i=!1;return t.forEach((function(t){e.includes(t)&&(i=!0)})),i},filterAuthor:function(t,e,n){var i=this;if(!e||0===(null===e||void 0===e?void 0:e.length))return!0;if(0===(null===t||void 0===t?void 0:t.length)||"authors"!==n)return!1;var r=!1;return e.forEach((function(e){i.$func.ciIncludes(t,e)&&(r=!0)})),r},getLanguages:function(){var t=this,e=[];return this.modules.forEach((function(n){n.languages&&0!==n.languages.length&&n.languages.forEach((function(n){var i=t.$func.getLanguageByTag(n);e.includes(i)||e.push(i)}))})),e.sort(Intl.Collator().compare)},getSystems:function(){var t=this,e=[];return this.modules.forEach((function(n){n.systems&&0!==n.systems.length&&n.systems.forEach((function(n){if(!t.$func.ciIncludes(Object.keys(t.systemCache),n)){var i,r,a,s=t.systems.filter((function(t){return t.name===n}));if(!t.$func.ciIncludes(e,(null===(i=s[0])||void 0===i?void 0:i.title)||n))e.push((null===(r=s[0])||void 0===r?void 0:r.title)||n),t.systemCache[n]=(null===(a=s[0])||void 0===a?void 0:a.title)||n}}))})),e=e.sort(Intl.Collator().compare),e.unshift("System Agnostic"),e},getSystem:function(t){var e="";return Object.entries(this.systemCache).forEach((function(n){var i=Object(d["a"])(n,2),r=i[0],a=i[1];a===t&&(e=r)})),e},getAuthors:function(){var t=this,e=[];return this.modules.forEach((function(n){n.authors&&0!==n.authors.length&&n.authors.forEach((function(n){t.$func.ciIncludes(e,n)||e.push(n)}))})),e.sort(Intl.Collator().compare)},handleSettingsClick:function(){this.settingsOverlay=!this.settingsOverlay}},mounted:function(){console.log("Mounted"),localStorage.getObject("apis")&&0!==Object.keys(localStorage.getObject("apis")).length||localStorage.setObject("apis",{"https://forge-vtt.com/api/bazaar":!0}),this.mountAPI()},computed:{filteredKeys:function(){return this.keys.filter((function(t){return"Name"!==t}))}}},vt=mt,yt=(n("8ccf"),n("c6a6")),bt=n("a609"),Ot=n("62ad"),St=n("a523"),jt=n("f774"),xt=n("0fd9"),kt=n("b974"),Ct=n("2fa4"),$t=n("71d9"),It=Object(x["a"])(vt,u,p,!1,null,"71f270fc",null),Pt=It.exports;C()(It,{VAutocomplete:yt["a"],VBtn:$["a"],VBtnToggle:bt["a"],VCard:I["a"],VCardText:P["b"],VCol:Ot["a"],VContainer:St["a"],VIcon:pt["a"],VNavigationDrawer:jt["a"],VRow:xt["a"],VSelect:kt["a"],VSpacer:Ct["a"],VTextField:dt["a"],VToolbar:$t["a"]});var At={name:"App",components:{Modules:Pt},data:function(){return{}}},Bt=At,wt=(n("5c0b"),n("7496")),Lt=n("f6c4"),_t=Object(x["a"])(Bt,l,c,!1,null,null,null),Dt=_t.exports;C()(_t,{VApp:wt["a"],VMain:Lt["a"]});var Et=n("f309");i["a"].use(Et["a"]);var Vt=new Et["a"]({theme:{disable:!0}});i["a"].config.productionTip=!1,i["a"].prototype.$func=o,new i["a"]({render:function(t){return t(Dt)},data:function(){return{modules:null}},vuetify:Vt,mounted:function(){}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("c0de")},"6544e":function(t,e,n){},"698c":function(t,e,n){},"8ccf":function(t,e,n){"use strict";n("6544e")},b5ec:function(t,e,n){"use strict";n("698c")},c0de:function(t,e,n){},e2df:function(t,e,n){}});
//# sourceMappingURL=app.34e68bc2.js.map